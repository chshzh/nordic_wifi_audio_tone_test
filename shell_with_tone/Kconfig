#
# Copyright (c) 2024 Nordic Semiconductor
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

menu "Shell With Tone"

if NET_BUF_FIXED_DATA_SIZE

config NET_BUF_DATA_SIZE
	default 1100

endif

# Configure variable network buffer pool sizes for TX and RX
if NET_BUF_VARIABLE_DATA_SIZE

# nRF52 and nRF54 Series targets have less memory
# so smaller pool sizes are recommended for these targets.
config NET_PKT_BUF_TX_DATA_POOL_SIZE
	default 40000 if SOC_SERIES_NRF54HX
	default 35000 if !SOC_SERIES_NRF52X && !SOC_SERIES_NRF54LX && BUILD_WITH_TFM
	default 50000 if !SOC_SERIES_NRF52X && !SOC_SERIES_NRF54LX

config NET_PKT_BUF_RX_DATA_POOL_SIZE
	default 20000 if !SOC_SERIES_NRF52X && !SOC_SERIES_NRF54LX

endif

source "Kconfig.zephyr"

config TONE_SHELL
	bool "Enable tone streaming shell commands"
	select LOG
	select SETTINGS
	select NET_UDP
	select TONE
	default y
	help
	  Adds the 'tone' shell command group for generating and streaming
	  sine wave audio over UDP. Disable to remove tone functionality.

config TONE_MAX_SAMPLES_PER_PACKET
	int "Maximum PCM samples per UDP packet"
	default 2048
	help
	  Upper limit for samples placed in each tone UDP payload to bound
	  buffer requirements.

config TONE_STREAM_WORKQUEUE_STACK_SIZE
	int "Tone stream workqueue stack size"
	default 2048
	depends on TONE_SHELL
	help
	  Stack size for the dedicated workqueue that handles tone packet
	  scheduling.

config TONE_STREAM_WORKQUEUE_PRIORITY
	int "Tone stream workqueue priority"
	default -2
	depends on TONE_SHELL
	help
	  Thread priority used by the dedicated tone streaming workqueue.

endmenu
